<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ayam Panggang Express - PWA</title>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#ff6600">
<style>
/* --- CSS sama seperti versi offline, embed semua gambar Base64 --- */
body { font-family:'Arial',sans-serif; margin:0; padding:0; background:linear-gradient(to bottom,#ffcc00,#ff6600); color:#333; }
/* ... copy semua CSS dari versi offline di sini ... */
</style>
</head>
<body>
<header>
  <h1>Ayam Panggang Express ğŸ—</h1>
  <p>Pesan ayam panggang juicy â€” mode PWA siap install!</p>
</header>

<div class="hero">
  <h2>Ayam Panggang Oven Gurih, Siap Diantar ke Rumahmu!</h2>
</div>

<!-- Menu Ayam -->
<div class="menu">
  <div class="item">
    <img src="data:image/jpeg;base64,/9j/4AAQ..." alt="1 Ekor Ayam Panggang">
    <h3>1 Ekor Ayam Panggang Oven</h3>
    <p>Rp65.000</p>
    <button onclick="selectItem('1 Ekor Ayam Panggang Oven', 65000)">Pesan</button>
  </div>
  <div class="item">
    <img src="data:image/jpeg;base64,/9j/4AAQ..." alt="Setengah Ekor Ayam Panggang">
    <h3>Setengah Ekor Ayam Panggang Oven</h3>
    <p>Rp33.000</p>
    <button onclick="selectItem('Setengah Ekor Ayam Panggang Oven', 33000)">Pesan</button>
  </div>
</div>

<!-- Form Pemesanan -->
<div class="order-form">
  <h2>Form Pemesanan</h2>
  <form id="orderForm">
    <label>Nama:</label><input type="text" id="name" required>
    <label>Alamat:</label><input type="text" id="address" required>
    <label>Jumlah:</label><input type="number" id="quantity" min="1" required>
    <label>Opsi Pengiriman:</label>
    <select id="delivery">
      <option value="lalamove">Lalamove</option>
      <option value="pickup">Ambil Sendiri</option>
    </select>
    <p id="orderSummary" style="font-weight:bold;"></p>
    <button type="submit">Lanjut ke Pembayaran</button>
  </form>
  <div class="payment-box" id="paymentBox" style="display:none;">
    <h3>ğŸ’³ Transfer Bank</h3>
    <p><strong>BCA:</strong> 8660454722 (a/n Afiz Hasyim Musyafa)</p>
  </div>
  <div id="lalamoveButton" class="lalamove-btn" onclick="callLalamove()">ğŸš— Panggil Kurir Lalamove</div>
</div>

<!-- Login Pemilik -->
<div id="login-box">
  <h3>Login Pemilik</h3>
  <input type="text" id="username" placeholder="Username">
  <input type="password" id="password" placeholder="Password">
  <button id="login-btn">Login</button>
  <p id="login-msg" style="color:red;"></p>
</div>

<!-- Chat -->
<div id="chat-container">
  <div id="chat-header">
    <div>ğŸ— Chat Penjual</div>
    <button id="close-chat">Ã—</button>
  </div>
  <div id="chat-messages"></div>
  <div id="chat-input-area">
    <input type="text" id="message-input" placeholder="Ketik pesan...">
    <button id="send-button">Kirim</button>
  </div>
  <button id="call-button">ğŸ“ Panggil Penjual</button>
</div>
<button id="open-chat">ğŸ’¬</button>

<script>
// --- JS sama seperti versi offline: order, login, chat ---
// copy semua JS dari versi offline di sini
</script>

<!-- Register Service Worker -->
<script>
if('serviceWorker' in navigator){
  navigator.serviceWorker.register('sw.js')
  .then(()=>console.log('Service Worker terdaftar!'))
  .catch(err=>console.log('Service Worker gagal:', err));
}
</script>
</body>
</html>